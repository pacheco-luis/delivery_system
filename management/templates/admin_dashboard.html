{% extends 'admin_base.html' %}
{% load static %}
{% load i18n %}
{% load bootstrap5 %}
{% bootstrap_css %}
{% bootstrap_javascript %}

{% block title %}
{% endblock title %}
{% block content  %}
<div id="dashboard_content" class="container-fluid">
    <!-- First Row -->
    <div class="row">
        <div class="col-md">
            <h5>{% trans "Dashboard"%}</h5>
        </div>
    </div>

    <!-- Second Row -->
    <div class="row">
        <!-- Visists -->
        <div id="visits_card" class="col-md">
            <h5>
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16">
                    <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"/>
                    <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"/>
                </svg>
                {% trans "Visits:"%}
            </h5>
            <div class="d-flex flex-row">
                <h6 class="p-2">
                    {% trans "Today:"%}
                </h6>
            </div>
            <div class="d-flex flex-row">
                <h6 class="p-2">
                    {% trans "Past 7 days:"%}
                </h6>
            </div>
            <div class="d-flex flex-row">
                <h6 class="p-2">
                    {% trans "Past  30 days:"%}
                </h6>
            </div>
            <div class="d-flex flex-row">
                <h6 class="p-2">
                    {% trans "Total:"%}
                </h6>
            </div>
        </div>
        <!-- users -->
        <div class="col-md">
            <h5>
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-people-fill" viewBox="0 0 16 16">
                    <path d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6m-5.784 6A2.24 2.24 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.3 6.3 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1zM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5"/>
                </svg>
                {% trans "Users:"%} 
                <a href="#" type="button" class="btn button-secondary dash_board_links" data-toggle="tooltip" title="view details">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-up-right-square" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm5.854 8.803a.5.5 0 1 1-.708-.707L9.243 6H6.475a.5.5 0 1 1 0-1h3.975a.5.5 0 0 1 .5.5v3.975a.5.5 0 1 1-1 0V6.707z"/>
                      </svg>
                </a>
            </h5>
            <div class="">
                <div class="row">
                    <h6 class="p-2 col">
                        {% trans "Total:" %}
                    </h6>
                    <h5 class="p-2 col">
                        {{total_users}}
                    </h5>
                </div>
            </div>
            <div class="">
                <div class="row">
                    <h6 class="p-2 col">
                        {% trans "Active:"%}
                    </h6>
                    <h5 class="p-2 col">
                        {{active_users}}
                    </h5>
                </div>
            </div>
            <div class="">
                <div class="row">
                    <h6 class="p-2 col">
                        {% trans "Customers:"%}
                    </h6>
                    <h5 class="p-2 col">
                        {{customers_users}}
                    </h5>
                </div>
            </div>
            <div class="">
                <div class="row">
                    <h6 class="p-2 col">
                        {% trans "Drivers:"%}
                    </h6>
                    <h5 class="p-2 col">
                        {{drivers_users}}
                    </h5>
                </div>
            </div>
        </div>
        <!-- Packages -->
        <div class="col-md">
            <h5>
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-fill" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M15.528 2.973a.75.75 0 0 1 .472.696v8.662a.75.75 0 0 1-.472.696l-7.25 2.9a.75.75 0 0 1-.557 0l-7.25-2.9A.75.75 0 0 1 0 12.331V3.669a.75.75 0 0 1 .471-.696L7.443.184l.004-.001.274-.11a.75.75 0 0 1 .558 0l.274.11.004.001zm-1.374.527L8 5.962 1.846 3.5 1 3.839v.4l6.5 2.6v7.922l.5.2.5-.2V6.84l6.5-2.6v-.4l-.846-.339Z"/>
                  </svg>
                {% trans "Packages: "%} 
                <a href="#" type="button" class="btn button-secondary dash_board_links" data-toggle="tooltip" title="view details">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-up-right-square" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm5.854 8.803a.5.5 0 1 1-.708-.707L9.243 6H6.475a.5.5 0 1 1 0-1h3.975a.5.5 0 0 1 .5.5v3.975a.5.5 0 1 1-1 0V6.707z"/>
                    </svg>
                </a>
            </h5>
            <div class="">
                <div class="row">
                    <h6 class="p-2 col">
                        {% trans "Total:"%}
                    </h6>
                    <h5 class="p-2 col">
                        {{all_p}}
                    </h5>
                </div>
            </div>
            <div class="">
                <div class="row">
                    <h6 class="p-2 col">
                        {% trans "Pending:"%}
                    </h6>
                    <h5 class="p-2 col">
                        {{pending_p}}
                    </h5>
                </div>
            </div>
            <div class="">
                <div class="row">
                    <h6 class="p-2 col">
                        {% trans "Picking:"%}
                    </h6>
                    <h5 class="p-2 col">
                        {{picking_p}}
                    </h5>
                </div>
            </div>
            <div class="">
                <div class="row">
                    <h6 class="p-2 col">
                        {% trans "Delivering:"%}
                    </h6>
                    <h5 class="p-2 col">
                        {{delivering_p}}
                    </h5>
                </div>
            </div>
            <div class="">
                <div class="row">
                    <h6 class="p-2 col">
                        {% trans "Completed:"%}
                    </h6>
                    <h5 class="p-2 col">
                        {{completed_p}}
                    </h5>
                </div>
            </div>
            <div class="">
                <div class="row">
                    <h6 class="p-2 col">
                        {% trans "Cancelled:"%}
                    </h6>
                    <h5 class="p-2 col">
                        {{cancelled_p}}
                    </h5>
                </div>
            </div>
        </div>
        <!-- clusters -->
        <div class="col-md">
            <h5>
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bounding-box" viewBox="0 0 16 16">
                    <path d="M5 2V0H0v5h2v6H0v5h5v-2h6v2h5v-5h-2V5h2V0h-5v2zm6 1v2h2v6h-2v2H5v-2H3V5h2V3zm1-2h3v3h-3zm3 11v3h-3v-3zM4 15H1v-3h3zM1 4V1h3v3z"/>
                  </svg>
                {% trans "Clusters:"%}  
                <a href="#" type="button" class="btn button-secondary dash_board_links" data-toggle="tooltip" title="view details">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-up-right-square" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm5.854 8.803a.5.5 0 1 1-.708-.707L9.243 6H6.475a.5.5 0 1 1 0-1h3.975a.5.5 0 0 1 .5.5v3.975a.5.5 0 1 1-1 0V6.707z"/>
                    </svg>
                </a>
            </h5>
            <div class="">
                <div class="row">
                    <h6 class="p-2 col">
                        {% trans "Total:"%}
                    </h6>
                    <h5 class="p-2 col">
                        {{all_clusters}}
                    </h5>
                </div>
            </div>
        </div>
        <!-- Station -->
        <div class="col-md">
            <h5>
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-flag-fill" viewBox="0 0 16 16">
                    <path d="M14.778.085A.5.5 0 0 1 15 .5V8a.5.5 0 0 1-.314.464L14.5 8l.186.464-.003.001-.006.003-.023.009a12 12 0 0 1-.397.15c-.264.095-.631.223-1.047.35-.816.252-1.879.523-2.71.523-.847 0-1.548-.28-2.158-.525l-.028-.01C7.68 8.71 7.14 8.5 6.5 8.5c-.7 0-1.638.23-2.437.477A20 20 0 0 0 3 9.342V15.5a.5.5 0 0 1-1 0V.5a.5.5 0 0 1 1 0v.282c.226-.079.496-.17.79-.26C4.606.272 5.67 0 6.5 0c.84 0 1.524.277 2.121.519l.043.018C9.286.788 9.828 1 10.5 1c.7 0 1.638-.23 2.437-.477a20 20 0 0 0 1.349-.476l.019-.007.004-.002h.001"/>
                  </svg>
                {% trans "Stations: "%} 
                <a href="#" type="button" class="btn button-secondary dash_board_links" data-toggle="tooltip" title="view details">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-up-right-square" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm5.854 8.803a.5.5 0 1 1-.708-.707L9.243 6H6.475a.5.5 0 1 1 0-1h3.975a.5.5 0 0 1 .5.5v3.975a.5.5 0 1 1-1 0V6.707z"/>
                    </svg>
                </a>
            </h5>
            <div class="">
                <div class="row">
                    <h6 class="p-2 col">
                        {% trans "Total:"%}
                    </h6>
                    <h5 class="p-2 col">
                        {{all_stations}}
                    </h5>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Third Row -->
    <div class="row">
        <!-- users -->
        <div id="" class="col-md-8 general-table">
            <h5>
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-people-fill" viewBox="0 0 16 16">
                    <path d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6m-5.784 6A2.24 2.24 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.3 6.3 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1zM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5"/>
                </svg>
                {% trans "Top 5 active drivers (in the last 30 days):"%}
            </h5>
            <table class="table">
                <thead>
                    <tr>
                    <th scope="col">#</th>
                    <th scope="col">{% trans "Driver ID"%}</th>
                    <th scope="col">{% trans "Username"%}</th>
                    <th scope="col">{% trans "Completed"%}</th>
                    </tr>
                </thead>
                <tbody>
                    {% for x in top_5_drivers %}
                        <tr>
                            <th scope="row">{{forloop.counter}}</th>
                                <td>{{x.0}}</td>
                                <td>{{x.1}}</td>
                                <td>{{x.2}}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

        <!-- Something else -->
        <div class="col-md">
            <h5>
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-people-fill" viewBox="0 0 16 16">
                    <path d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6m-5.784 6A2.24 2.24 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.3 6.3 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1zM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5"/>
                </svg>
                Users: 
                <a href="#" type="button" class="btn button-secondary dash_board_links" data-toggle="tooltip" title="view details">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-up-right-square" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm5.854 8.803a.5.5 0 1 1-.708-.707L9.243 6H6.475a.5.5 0 1 1 0-1h3.975a.5.5 0 0 1 .5.5v3.975a.5.5 0 1 1-1 0V6.707z"/>
                      </svg>
                </a>
            </h5>
            <div class="d-flex flex-row">
                <h6 class="p-2">
                    {% trans "Total: "%}
                </h6>
            </div>
            <div class="d-flex flex-row">
                <h6 class="p-2">
                    {% trans "Active:"%}
                </h6>
            </div>
            <div class="d-flex flex-row">
                <h6 class="p-2">
                      {% trans "Inactive:"%}
                </h6>
            </div>
            <div class="d-flex flex-row">
                <h6 class="p-2">
                      {% trans "Customers:"%}
                </h6>
            </div>
            <div class="d-flex flex-row">
                <h6 class="p-2">
                    {% trans "Drivers:"%}
                </h6>
            </div>
        </div>
    </div>
</div>
{% endblock content%}

{% block script_files %}
<script>
    document.getElementById("admin_dashboard_tab").style.borderLeft='3px solid #ff6000';
</script>
{% endblock script_files %}